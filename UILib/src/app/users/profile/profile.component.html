<div class="profile-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-section">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Loading profile information...</p>
  </div>

  <!-- Profile Card -->
  <mat-card *ngIf="!isLoading && user" class="profile-card">
    <mat-card-header class="profile-header">
      <div class="header-content">
        <mat-icon class="profile-icon">account_circle</mat-icon>
        <div class="header-text">
          <mat-card-title>Profile Information</mat-card-title>
          <mat-card-subtitle>
            Your account details and membership information
          </mat-card-subtitle>
        </div>
      </div>
      
      <button 
        mat-icon-button 
        color="accent" 
        (click)="refreshProfile()"
        matTooltip="Refresh profile"
        class="refresh-button"
      >
        <mat-icon>refresh</mat-icon>
      </button>
    </mat-card-header>

    <mat-card-content class="profile-content">
      <table mat-table [dataSource]="dataSource" class="profile-table">
        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Property</th>
          <td mat-cell *matCellDef="let element" class="property-cell">
            <div class="property-name">
              <mat-icon class="property-icon">{{ element.icon }}</mat-icon>
              {{ element.name }}
            </div>
          </td>
        </ng-container>

        <!-- Value Column -->
        <ng-container matColumnDef="value">
          <th mat-header-cell *matHeaderCellDef>Value</th>
          <td 
            mat-cell 
            *matCellDef="let element" 
            class="value-cell"
            [class]="getStatusClass(element.value, element.type)"
          >
            {{ element.value }}
          </td>
        </ng-container>

        <!-- Table Rows -->
        <tr mat-header-row *matHeaderRowDef="columns" class="table-header"></tr>
        <tr mat-row *matRowDef="let row; columns: columns;" class="table-row"></tr>
      </table>
    </mat-card-content>

    <!-- Additional Actions -->
    <mat-card-actions class="profile-actions">
      <button 
        mat-stroked-button 
        color="primary" 
        (click)="refreshProfile()"
        class="action-button"
      >
        <mat-icon>refresh</mat-icon>
        Refresh
      </button>
      
      <span class="last-updated">
        Last updated: {{ getCurrentDate() }}
      </span>
    </mat-card-actions>
  </mat-card>

  <!-- Error State -->
  <div *ngIf="!isLoading && !user" class="error-state">
    <mat-icon class="error-icon">error_outline</mat-icon>
    <h2>Profile Not Available</h2>
    <p>Unable to load your profile information. Please try logging in again.</p>
    <button 
      mat-raised-button 
      color="primary" 
      routerLink="/login"
      class="login-button"
    >
      <mat-icon>login</mat-icon>
      Go to Login
    </button>
  </div>
</div>